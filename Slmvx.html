<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SECURE LINK</title>
    <style>
        /* --- 1. CONFIGURATION GLOBALE --- */
        :root {
            --glow: #ffffff;
            --bg: #050505;
        }

        body {
            background-color: var(--bg);
            color: var(--glow);
            font-family: 'Courier New', Courier, monospace;
            margin: 0;
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            user-select: none;
        }

        /* --- 2. TEXTURES & GLOW --- */
        /* Lignes TV (Scanlines) - Toujours au dessus de tout */
        .scanlines {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
                        linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 3px, 3px 100%;
            pointer-events: none;
            z-index: 999;
        }

        /* Effet Glow Blanc */
        .glow-text {
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.8), 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        .glow-box {
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2), inset 0 0 10px rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.6);
        }

        /* --- 3. SEQUENCE D'INTRO (Layer au dessus de la carte) --- */
        #intro-layer {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: #000;
            z-index: 500;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transform-origin: center;
        }

        /* Le Loader */
        .spinner {
            width: 40px; height: 40px;
            border: 3px solid #333;
            border-top: 3px solid #fff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
            box-shadow: 0 0 10px rgba(255,255,255,0.5);
        }

        /* L'étape de Validation */
        #validation-step {
            display: none; /* Caché au début */
            text-align: center;
        }
        
        .check-icon {
            font-size: 3rem;
            display: block;
            margin-bottom: 15px;
            text-shadow: 0 0 15px #fff;
        }

        /* --- 4. ANIMATION "TV ÉTEINTE" (CRT OFF) --- */
        /* Cette classe sera ajoutée via JS pour faire disparaître l'intro */
        .crt-off-anim {
            animation: crt-turn-off 0.6s cubic-bezier(0.23, 1.00, 0.32, 1.00) forwards;
        }

        @keyframes crt-turn-off {
            0% { transform: scale(1, 1); opacity: 1; filter: brightness(1); }
            40% { transform: scale(1, 0.005); opacity: 1; filter: brightness(2); } /* Écrase en ligne */
            100% { transform: scale(0, 0); opacity: 0; filter: brightness(5); } /* Disparaît en point */
        }
        
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* --- 5. LA CARTE CADEAU (Cachée derrière) --- */
        .card-container {
            width: 85%; max-width: 400px;
            padding: 25px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(5px);
            opacity: 0; /* Cachée par défaut */
            transition: opacity 1.5s ease; /* Apparition douce après l'effet TV */
        }

        .card-visible { opacity: 1; }

        /* Styles internes de la carte */
        .header-row { display: flex; justify-content: space-between; border-bottom: 1px solid #555; padding-bottom: 10px; font-size: 0.7rem; margin-bottom: 20px;}
        .amount-row { text-align: center; margin: 30px 0; }
        .amount { font-size: 3.5rem; font-weight: bold; }
        .code-display { background: rgba(255,255,255,0.1); padding: 15px; text-align: center; font-size: 1.2rem; letter-spacing: 2px; margin-top: 15px; cursor: pointer; border: 1px dashed #555; }
        .code-display:active { background: #fff; color: #000; }
        
        /* Image Perso (Optionnel) */
        .hack-image-box { border: 1px solid #fff; margin: 15px 0; position: relative; overflow: hidden; }
        .hack-image-box img { width: 100%; display: block; filter: grayscale(100%) contrast(1.1); }
        .hack-overlay { position: absolute; top:0; left:0; width:100%; height:100%; background: linear-gradient(rgba(0,0,0,0) 50%, rgba(0,0,0,0.3) 50%); background-size: 100% 4px; pointer-events: none; }

    </style>
</head>
<body>

    <div class="scanlines"></div>

    <div id="intro-layer">
        
        <div id="loader-step" style="text-align:center;">
            <div class="spinner"></div>
            <div class="glow-text" style="font-size: 0.9rem; letter-spacing: 1px;">CHECKING AUTHORIZATION...</div>
        </div>

        <div id="validation-step">
            <div class="check-icon glow-text">✓</div>
            <div style="font-size: 1rem; letter-spacing: 2px;">
                ID VALIDATED : <span id="typewriter-target" class="glow-text"></span><span class="cursor">_</span>
            </div>
        </div>
    </div>


    <div class="card-container glow-box" id="main-card">
        <div class="header-row">
            <span>// GIFT_PROTOCOL_V2</span>
            <span>SECURE</span>
        </div>

        <div class="amount-row">
            <div class="amount glow-text">50€</div>
            <div style="font-size: 0.7rem; letter-spacing: 3px; opacity: 0.7; margin-top:5px;">CREDITS</div>
        </div>

        <div style="margin-top: 30px;">
            <span style="font-size: 0.7rem; opacity: 0.6; display: block;">POUR L'AGENT:</span>
            <div style="font-size: 1.2rem; margin-bottom: 20px;">NOM DU DESTINATAIRE</div>

            <span style="font-size: 0.7rem; opacity: 0.6; display: block;">CODE D'ACCÈS:</span>
            <div class="code-display glow-text" onclick="copyCode()">
                XMAS-2025-SLMVX
            </div>
            <div id="copy-msg" style="text-align:center; font-size:0.6rem; opacity:0; transition:opacity 0.3s; margin-top:5px;">COPIÉ !</div>
        </div>
    </div>


    <script>
        /* --- SCRIPT DE SÉQUENCAGE --- */
        
        window.onload = function() {
            // 1. On attend 1.5 secondes (Roue de chargement)
            setTimeout(function() {
                // On cache le loader
                document.getElementById('loader-step').style.display = 'none';
                // On affiche la zone de validation
                document.getElementById('validation-step').style.display = 'block';
                
                // 2. On lance l'écriture lettre par lettre de "SLMVX"
                typeWriter("SLMVX", 0);

            }, 1500);
        };

        function typeWriter(text, i) {
            if (i < text.length) {
                document.getElementById("typewriter-target").innerHTML += text.charAt(i);
                // Vitesse de frappe (100ms par lettre)
                setTimeout(function() { typeWriter(text, i + 1); }, 150);
            } else {
                // 3. Quand l'écriture est finie, on attend une mini pause (0.5s)
                setTimeout(triggerCrtOff, 500);
            }
        }

        function triggerCrtOff() {
            // 4. On ajoute la classe d'animation "TV éteinte" au layer d'intro
            const intro = document.getElementById('intro-layer');
            intro.classList.add('crt-off-anim');

            // 5. Juste après, on fait apparaître la carte doucement
            setTimeout(function() {
                document.getElementById('main-card').classList.add('card-visible');
            }, 400); // Se lance pendant que l'écran s'éteint
        }

        // Fonction Copier-Coller simple
        function copyCode() {
            navigator.clipboard.writeText("XMAS-2025-SLMVX");
            document.getElementById('copy-msg').style.opacity = 1;
            setTimeout(() => { document.getElementById('copy-msg').style.opacity = 0; }, 2000);
        }
    </script>
</body>
</html>
